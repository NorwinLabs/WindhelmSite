<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Windhelm® - Procedurally generated story-driven RPG with dynamic quests, legendary heroes, and infinite replayability."
    />
    <meta
      name="keywords"
      content="Windhelm, RPG, adventure game, procedurally generated, story-driven, dynamic quests, narrative RPG, indie game, Steam"
    />
    <title>Windhelm®</title>

    <!-- Favicon -->
    <link rel="icon" href="images/favicon.png" />

    <!-- Preload critical resources for optimal performance -->
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <!-- Preload critical images -->
    <link rel="preload" href="images/Logo.png" as="image" type="image/png" />
    <link
      rel="preload"
      href="images/islandbg.png"
      as="image"
      type="image/png"
    />
    <link rel="preload" href="images/BGVideo.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="images/2.png" as="image" type="image/png" />
    <link rel="preload" href="images/3.png" as="image" type="image/png" />
    <link rel="preload" href="images/4.png" as="image" type="image/png" />

    <!-- Critical CSS - Inline for faster first paint -->
    <style>
      :root {
        /* Section Animation */
        .section-animate {
          opacity: 0;
          transform: translateY(40px);
          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
          will-change: opacity, transform;
        }
        .section-animate.visible {
          opacity: 1;
          transform: none;
        }
        --primary-color: #2563eb;
        --primary-dark: #1d4ed8;
        --white: #ffffff;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-400: #9ca3af;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --hero-gradient-start: #1e1b4b;
        --hero-gradient-end: #312e81;
        --font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, sans-serif;
        --font-display: "Space Grotesk", "Inter", sans-serif;
        --space-4: 1rem;
        --space-6: 1.5rem;
        --space-8: 2rem;
        --space-20: 5rem;
        --container-max-width: 1200px;
        --container-padding: 1.5rem;
        --border-radius: 0.5rem;
        --border-radius-lg: 0.75rem;
        --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
          0 1px 2px 0 rgba(0, 0, 0, 0.06);
        --transition-base: all 0.2s ease;
      }
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
        font-size: 16px;
      }
      body {
        font-family: var(--font-primary);
        font-size: 1rem;
        line-height: 1.6;
        color: var(--gray-800);
        background: url("images/islandbg.png") repeat;
        background-attachment: fixed;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        /* Custom Medieval Bronze Cursor */
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><linearGradient id="bronze" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23CD7F32;stop-opacity:1" /><stop offset="30%" style="stop-color:%23B8860B;stop-opacity:1" /><stop offset="70%" style="stop-color:%23A0522D;stop-opacity:1" /><stop offset="100%" style="stop-color:%23654321;stop-opacity:1" /></linearGradient></defs><path d="M2 2 L2 18 L7 13 L10 13 L15 22 L17 21 L12 12 L15 12 L2 2 Z" fill="url(%23bronze)" stroke="%232F1B14" stroke-width="0.5"/></svg>')
            2 2,
          auto;
      }
      .container {
        max-width: var(--container-max-width);
        margin: 0 auto;
        padding: 0 var(--container-padding);
      }
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background: url("images/islandbg.png") repeat,
          linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));
        background-blend-mode: overlay;
        backdrop-filter: blur(8px);
        border-bottom: 1px solid rgba(229, 231, 235, 0.6);
        transition: var(--transition-base);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .nav-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--space-4) var(--container-padding);
        max-width: var(--container-max-width);
        margin: 0 auto;
      }
      .logo img {
        height: 40px;
        width: auto;
      }
      .nav-menu {
        display: flex;
        align-items: center;
        gap: var(--space-8);
      }
      .nav-link {
        /* Accessibility: Focus outline for nav and buttons */
        .nav-link:focus,
        .cta-button:focus,
        .feature-card-overlay:focus {
          outline: 3px solid #2563eb;
          outline-offset: 2px;
          box-shadow: 0 0 0 4px #c7d7fa;
          z-index: 2;
        }
        font-weight: 500;
        color: #000000;
        padding: 0.5rem 0.75rem;
        border-radius: var(--border-radius);
        transition: var(--transition-base);
        text-decoration: none;
      }
      .nav-link:hover {
        background-color: var(--gray-100);
        color: var(--primary-color);
        transform: translateY(-1px);
      }
      .nav-link:active,
      .nav-link.active {
        background-color: var(--primary-color);
        color: var(--white);
      }
      .social-links {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.75rem;
      }
      .social-link {
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--border-radius);
        color: var(--gray-600);
        transition: var(--transition-base);
        position: relative;
      }
      .social-link:hover {
        color: var(--primary-color);
        background-color: rgba(37, 99, 235, 0.1);
        transform: translateY(-2px) scale(1.05);
      }
      .social-link:hover svg {
        transform: scale(1.1);
      }
      .social-link svg {
        width: 20px;
        height: 20px;
      }
      .nav-toggle {
        display: none;
        flex-direction: column;
        gap: 4px;
        width: 24px;
        height: 24px;
        border: none;
        background: none;
        cursor: pointer;
      }
      .nav-toggle span {
        width: 100%;
        height: 2px;
        background: var(--gray-700);
        border-radius: 1px;
        transition: var(--transition-base);
      }
      .nav-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }
      .nav-toggle.active span:nth-child(2) {
        opacity: 0;
      }
      .nav-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
      }
      .hero {
        position: relative;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(
          135deg,
          var(--hero-gradient-start),
          var(--hero-gradient-end)
        );
        overflow: hidden;
      }
      .hero-background {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1;
      }
      .hero-bg-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.3;
      }
      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(30, 27, 75, 0.8),
          rgba(49, 46, 129, 0.6)
        );
      }
      .hero-content {
        position: relative;
        z-index: 10;
        text-align: center;
        color: var(--white);
        padding: var(--space-20) 0;
      }
      .hero-title {
        margin-bottom: var(--space-6);
      }
      .hero-title-main {
        display: block;
        margin-bottom: 0.5rem;
        text-align: center;
      }
      .hero-logo {
        max-width: 400px;
        width: 100%;
        height: auto;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        transition: var(--transition-base);
        /* Fire glow effect */
        animation: fireGlow 3s ease-in-out infinite alternate;
      }

      .hero-logo:hover {
        transform: scale(1.05);
        filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.4));
        /* Enhanced fire glow on hover */
        animation: fireGlowIntense 2s ease-in-out infinite alternate;
      }

      /* Fire glow animation keyframes */
      @keyframes fireGlow {
        0% {
          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))
            drop-shadow(0 0 10px rgba(255, 69, 0, 0.4))
            drop-shadow(0 0 20px rgba(255, 140, 0, 0.3))
            drop-shadow(0 0 30px rgba(255, 165, 0, 0.2));
        }
        100% {
          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))
            drop-shadow(0 0 15px rgba(255, 69, 0, 0.6))
            drop-shadow(0 0 25px rgba(255, 140, 0, 0.4))
            drop-shadow(0 0 35px rgba(255, 165, 0, 0.3))
            drop-shadow(0 0 45px rgba(255, 215, 0, 0.2));
        }
      }

      @keyframes fireGlowIntense {
        0% {
          filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.4))
            drop-shadow(0 0 20px rgba(255, 69, 0, 0.7))
            drop-shadow(0 0 30px rgba(255, 140, 0, 0.5))
            drop-shadow(0 0 40px rgba(255, 165, 0, 0.4))
            drop-shadow(0 0 50px rgba(255, 215, 0, 0.3));
        }
        100% {
          filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.4))
            drop-shadow(0 0 25px rgba(255, 69, 0, 0.8))
            drop-shadow(0 0 35px rgba(255, 140, 0, 0.6))
            drop-shadow(0 0 45px rgba(255, 165, 0, 0.5))
            drop-shadow(0 0 55px rgba(255, 215, 0, 0.4))
            drop-shadow(0 0 65px rgba(255, 99, 71, 0.3));
        }
      }
      .hero-title-sub {
        display: block;
        font-size: 1.5rem;
        font-weight: 400;
        color: var(--gray-200);
      }
      .hero-description {
        font-size: 1.25rem;
        max-width: 600px;
        margin: 0 auto var(--space-8);
        color: var(--gray-200);
      }
      .hero-cta {
        display: flex;
        gap: var(--space-4);
        justify-content: center;
        flex-wrap: wrap;
      }
      .cta-button {
        display: inline-flex;
        align-items: center;
        padding: var(--space-4) var(--space-8);
        border-radius: var(--border-radius-lg);
        font-weight: 600;
        font-size: 1.125rem;
        transition: var(--transition-base);
        text-decoration: none;
        cursor: pointer;
      }
      .cta-button.primary {
        background: var(--primary-color);
        color: var(--white);
        box-shadow: var(--shadow);
      }
      .cta-button.secondary {
        background: transparent;
        color: var(--white);
        border: 2px solid var(--white);
      }
      .cta-button:hover {
        transform: translateY(-2px);
      }
      .cta-button.primary:hover {
        background: var(--primary-dark);
        box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
      }
      .cta-button.secondary:hover {
        background: var(--white);
        color: var(--primary-color);
      }
      @media (max-width: 768px) {
        .nav-menu {
          position: fixed;
          top: 80px;
          left: -100%;
          width: 80vw;
          max-width: 340px;
          height: calc(100vh - 80px);
          background: rgba(255, 255, 255, 0.97);
          box-shadow: 2px 0 24px rgba(0, 0, 0, 0.1);
          backdrop-filter: blur(10px);
          flex-direction: column;
          justify-content: flex-start;
          align-items: flex-start;
          gap: 2rem;
          padding: 2.5rem 2rem 2rem 2rem;
          transition: left 0.32s cubic-bezier(0.77, 0, 0.18, 1);
          z-index: 1001;
        }
        .nav-menu.active {
          left: 0;
        }
        .nav-menu .nav-link {
          font-size: 1.25rem;
          padding: 1rem 0;
          width: 100%;
          text-align: left;
        }
        .nav-toggle {
          display: flex;
        }
        .nav-overlay {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background: rgba(0, 0, 0, 0.32);
          z-index: 1000;
          transition: opacity 0.25s;
          opacity: 0;
        }
        .nav-overlay.active {
          display: block;
          opacity: 1;
        }
        .hero-logo {
          max-width: 300px;
        }
        .hero-cta {
          flex-direction: column;
          align-items: center;
        }
        .cta-button {
          width: 100%;
          max-width: 300px;
          justify-content: center;
        }
      }
      @media (max-width: 640px) {
        :root {
          --container-padding: 0.75rem;
        }
        .hero-logo {
          max-width: 250px;
        }
        .hero-description {
          font-size: 1.125rem;
        }
      }

      /* Section Styles - Optimized for readability */
      .features,
      .team,
      .contact {
        padding: 5rem 0;
        background: url("images/islandbg.png") repeat,
          linear-gradient(rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.75));
        background-blend-mode: overlay;
        backdrop-filter: blur(8px);
        position: relative;
      }
      .features {
        background: url("images/islandbg.png") repeat,
          linear-gradient(rgba(249, 250, 251, 0.85), rgba(249, 250, 251, 0.85));
        background-blend-mode: overlay;
        backdrop-filter: blur(10px);
      }

      /* Removed problematic overlay that was washing out images */
      /* Section backgrounds now rely only on the main background gradients */
      .section-header {
        text-align: center;
        margin-bottom: 3rem;
      }
      .section-title {
        font-family: var(--font-display);
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: 1rem;
        text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
        position: relative;
      }
      .section-subtitle {
        font-size: 1.25rem;
        color: var(--gray-700);
        max-width: 600px;
        margin: 0 auto;
        text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
        font-weight: 500;
      }

      /* Compact Features Grid */
      .features-grid-compact {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        margin-top: 3rem;
      }
      .feature-card {
        background: linear-gradient(
            rgba(255, 255, 255, 0.88),
            rgba(255, 255, 255, 0.88)
          ),
          url("images/islandbg.png") repeat;
        background-blend-mode: normal, multiply;
        backdrop-filter: blur(10px);
        border-radius: var(--border-radius-lg);
        padding: 0;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15),
          0 0 0 1px rgba(255, 255, 255, 0.5);
        transition: var(--transition-base);
        border: 1px solid rgba(200, 200, 200, 0.3);
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }
      .feature-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }
      /* Feature Images - Completely Isolated Styling with No Alpha/Fading */
      .feature-image {
        margin: 0 !important;
        padding: 0 !important;
        position: relative !important;
        z-index: 9999 !important;
        width: 100% !important;
        background: none !important;
        backdrop-filter: none !important;
        filter: none !important;
        opacity: 1 !important;
        isolation: isolate !important;
        order: -1;
        border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        overflow: hidden;
      }

      .feature-image img {
        width: 100% !important;
        height: 200px !important;
        object-fit: cover !important;
        border-radius: 0 !important;
        border: none !important;
        filter: none !important;
        -webkit-filter: none !important;
        -moz-filter: none !important;
        -ms-filter: none !important;
        box-shadow: none !important;
        background: none !important;
        backdrop-filter: none !important;
        opacity: 1 !important;
        mix-blend-mode: normal !important;
        isolation: isolate !important;
        transition: transform 0.2s ease !important;
        position: relative !important;
        z-index: 9999 !important;
        /* Ensure crisp rendering */
        image-rendering: -webkit-optimize-contrast !important;
        image-rendering: crisp-edges !important;
        /* Prevent any inherited transparency */
        background-color: transparent !important;
        display: block !important;
      }

      .feature-image img:hover {
        filter: none !important;
        -webkit-filter: none !important;
        transform: scale(1.02) !important;
        box-shadow: none !important;
        opacity: 1 !important;
        backdrop-filter: none !important;
      }
      .feature-content {
        padding: 2rem;
        flex-grow: 1;
      }

      .feature-content h3 {
        font-family: var(--font-display);
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: 1rem;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
      }
      .feature-content p {
        color: var(--gray-800);
        line-height: 1.8;
        font-weight: 500;
        text-shadow: 0 1px 1px rgba(255, 255, 255, 0.6);
      }

      /* Additional Features Section Styling */
      .features .container {
        position: relative;
        z-index: 2;
      }
      .features .section-header {
        animation: fadeInUp 0.8s ease-out;
      }
      .feature-card {
        position: relative;
        overflow: hidden;
      }
      .feature-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(37, 99, 235, 0.1),
          transparent
        );
        transition: left 0.5s ease;
        z-index: 1;
      }
      .feature-card:hover::before {
        left: 100%;
      }
      /* Ensure images stay above the sweep effect */
      .feature-image {
        position: relative;
        z-index: 15;
      }

      /* Feature Card Overlay Styles */
      .feature-card-overlay {
        background: linear-gradient(
            rgba(255, 255, 255, 0.88),
            rgba(255, 255, 255, 0.88)
          ),
          url("images/islandbg.png") repeat;
        background-blend-mode: normal, multiply;
        backdrop-filter: blur(10px);
        border-radius: var(--border-radius-lg);
        padding: 0;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15),
          0 0 0 1px rgba(255, 255, 255, 0.5);
        transition: var(--transition-base);
        border: 1px solid rgba(200, 200, 200, 0.3);
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        cursor: pointer;
      }

      .feature-card-overlay:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .feature-image-container {
        position: relative;
        width: 100%;
        order: -1;
        border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        overflow: hidden;
      }

      .feature-image-container img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 0;
        border: none;
        display: block;
      }

      .feature-overlay-content {
        padding: 1.5rem;
        position: relative;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.9) 0%,
          rgba(0, 0, 0, 0.7) 50%,
          transparent 100%
        );
        color: white;
        text-align: left;
      }

      .feature-overlay h3 {
        font-family: var(--font-display);
        font-size: 1.3rem;
        font-weight: 700;
        margin: 0 0 0.5rem 0;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      }

      .feature-text-overlay {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease, padding 0.4s ease;
        padding: 0;
      }

      .feature-card-overlay.expanded .feature-text-overlay {
        max-height: 200px;
        padding-top: 0.5rem;
      }

      .feature-text-overlay p {
        margin: 0;
        font-size: 0.9rem;
        line-height: 1.5;
        color: rgba(255, 255, 255, 0.9);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      }

      /* Team Grid */
      .team-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }
      .team-member {
        text-align: center;
        background: transparent !important;
        border-radius: var(--border-radius-lg);
        padding: 2rem;
        box-shadow: none !important;
        transition: var(--transition-base);
        position: relative;
        /* Ensure no effects transfer to child images */
        backdrop-filter: none !important;
        filter: none !important;
        opacity: 1 !important;
        mix-blend-mode: normal !important;
        isolation: isolate !important;
      }
      .team-member:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }
      .member-image {
        margin-bottom: 1.5rem;
        position: relative;
        z-index: 15;
      }
      /* Team Photos - Completely Isolated Styling with No Alpha/Fading */
      .member-image img {
  width: 170px !important;
  height: 170px !important;
        border-radius: 50% !important;
        object-fit: cover !important;
        border: none !important;
        filter: none !important;
        box-shadow: none !important;
        background: none !important;
        backdrop-filter: none !important;
        opacity: 1 !important;
        mix-blend-mode: normal !important;
        isolation: isolate !important;
        transition: transform 0.2s ease !important;
        position: relative !important;
        z-index: 9999 !important;
        /* Force full color saturation and contrast */
        -webkit-filter: none !important;
        -moz-filter: none !important;
        -ms-filter: none !important;
        /* Prevent any inherited transparency */
        background-color: transparent !important;
        /* Ensure crisp rendering */
        image-rendering: -webkit-optimize-contrast !important;
        image-rendering: crisp-edges !important;
      }

      .member-image img:hover {
        filter: none !important;
        -webkit-filter: none !important;
        transform: scale(1.02) !important;
        box-shadow: none !important;
        opacity: 1 !important;
        backdrop-filter: none !important;
      }

      /* Ensure the container doesn't affect photos */
      .member-image {
        margin-bottom: 1.5rem !important;
        position: relative !important;
        z-index: 9998 !important;
        background: none !important;
        backdrop-filter: none !important;
        filter: none !important;
        opacity: 1 !important;
        isolation: isolate !important;
      }
      .member-info h3 {
        font-family: var(--font-display);
        font-size: 2.3rem;
        font-weight: 800;
        color: var(--gray-900);
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 12px #fff8, 0 1px 2px #0002;
        letter-spacing: 0.01em;
      }
      .member-role {
        color: var(--blue-700);
        font-weight: 700;
        text-shadow: none;
      }
      .supporters {
        text-align: center;
        padding: 2rem;
        background: var(--gray-50);
        border-radius: var(--border-radius-lg);
        border: 2px dashed var(--gray-200);
      }
      .supporters h3 {
        .supporter-name {
          display: inline-block;
          font-weight: 900;
          font-size: 2em;
          letter-spacing: 0.06em;
          padding: 0.25em 0.9em;
          border-radius: 0.6em;
          margin: 0.3em 0;
          background: linear-gradient(
            90deg,
            #fffbe6 0%,
            #ffd700 40%,
            #fffbe6 100%
          );
          color: #bfa100;
          box-shadow: 0 0 24px 8px #ffd700, 0 0 48px 16px #fffbe6;
          border: 3px solid #ffd700;
          text-shadow: 0 0 12px #fffbe6, 0 0 32px #ffd700, 0 2px 12px #bfa100;
          animation: supporter-glow 2.5s linear infinite alternate;
          transition: box-shadow 0.2s, border 0.2s, background 0.2s;
        }
        .supporter-name:hover {
          box-shadow: 0 0 32px 12px #ffd700, 0 0 64px 24px #fffbe6;
          border: 3px solid #fffbe6;
          background: linear-gradient(
            90deg,
            #ffd700 0%,
            #fffbe6 60%,
            #ffd700 100%
          );
        }
        @keyframes supporter-glow {
          0% {
            box-shadow: 0 0 24px 8px #ffd700, 0 0 48px 16px #fffbe6;
          }
          100% {
            box-shadow: 0 0 48px 16px #ffd700, 0 0 96px 32px #fffbe6;
          }
        }
        font-family: var(--font-display);
        color: var(--gray-700);
        margin-bottom: 1rem;
      }

      /* Contact Grid Layout */
      .contact-grid {
        display: grid;
        grid-template-columns: 1fr 1.2fr;
        gap: 4rem;
        align-items: start;
        margin-top: 3rem;
      }

      @media (max-width: 768px) {
        .contact-grid {
          grid-template-columns: 1fr;
          gap: 2rem;
        }
      }

      /* Contact Info Cards */
      .contact-info {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .contact-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 1rem;
        padding: 2rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }

      .contact-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        border-color: var(--primary-color);
      }

      .contact-card-icon {
        width: 48px;
        height: 48px;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--primary-dark)
        );
        border-radius: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
        box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
      }

      .contact-card-icon svg {
        width: 24px;
        height: 24px;
      }

      .contact-card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--gray-900);
        margin-bottom: 0.5rem;
      }

      .contact-card-text {
        color: var(--gray-600);
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }

      .contact-card-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary-color);
        font-weight: 600;
        text-decoration: none;
        transition: var(--transition-base);
      }

      .contact-card-link:hover {
        color: var(--primary-dark);
        transform: translateX(4px);
      }

      /* Contact Form Container */
      .contact-form-container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 1.5rem;
        padding: 2.5rem;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      .contact-form-header {
        text-align: center;
        margin-bottom: 2rem;
      }

      .contact-form-header h3 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: 0.5rem;
      }

      .contact-form-header p {
        color: var(--gray-600);
        font-size: 1rem;
      }

      /* Form Styles */
      .contact-form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      .form-group {
        display: flex;
        flex-direction: column;
      }

      .form-group label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        color: var(--gray-700);
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
      }

      .form-group label svg {
        color: var(--primary-color);
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 1rem;
        border: 2px solid var(--gray-200);
        border-radius: 0.75rem;
        font-family: inherit;
        font-size: 1rem;
        transition: all 0.2s ease;
        background-color: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(8px);
        color: var(--gray-900);
      }

      .form-group input:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        background-color: rgba(255, 255, 255, 0.95);
      }

      .form-group textarea {
        resize: vertical;
        min-height: 120px;
      }

      .checkbox-group {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        margin: 0.5rem 0;
      }

      .checkbox-group input[type="checkbox"] {
        width: auto;
      }
      .submit-button {
        width: 100%;
        background: var(--primary-color);
        color: var(--white);
        border: none;
        padding: 1rem 2rem;
        border-radius: var(--border-radius-lg);
        font-size: 1.125rem;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-base);
      }
      .submit-button:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: var(--shadow);
      }
      .submit-button:focus {
        outline: 3px solid var(--blue-300);
        outline-offset: 2px;
        background: var(--primary-dark);
      }

      /* Improve focus states for accessibility */
      a:focus,
      button:focus,
      input:focus,
      textarea:focus {
        outline: 2px solid var(--blue-500);
        outline-offset: 2px;
      }
      .terms-link {
        color: var(--primary-color);
        text-decoration: underline;
      }

      /* Footer */
      .footer {
        background: var(--gray-900);
        color: var(--white);
        padding: 3rem 0 2rem;
        margin-top: 5rem;
      }
      .footer-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 1rem;
      }
      .footer-brand {
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      .footer-logo {
        height: 40px;
        width: auto;
      }
      .footer-brand p {
        color: var(--gray-400);
        font-size: 0.9rem;
      }
      .footer-version {
        background: var(--primary-color);
        color: var(--white);
        padding: 0.5rem 1rem;
        border-radius: var(--border-radius);
        font-weight: 600;
        font-size: 0.9rem;
        cursor: help;
        transition: var(--transition-base);
        display: flex;
        align-items: center;
        flex-wrap: wrap;
      }

      .footer-version:hover {
        background: var(--primary-dark);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
      }

      #version-number {
        font-weight: 700;
      }

      #build-info {
        font-family: "Courier New", monospace;
        white-space: nowrap;
      }

      @media (max-width: 768px) {
        .footer-version {
          flex-direction: column;
          text-align: center;
        }
        #build-info {
          margin-left: 0 !important;
          margin-top: 0.25rem;
        }
      }

      /* Form Messages */
      .form-messages {
        position: fixed;
        top: 100px;
        right: 20px;
        z-index: 1001;
        max-width: 400px;
      }
      .form-success,
      .form-error {
        padding: 1rem 1.5rem;
        border-radius: var(--border-radius-lg);
        margin-bottom: 1rem;
        font-weight: 500;
      }
      .form-success {
        background: #10b981;
        color: white;
      }
      .form-error {
        background: #ef4444;
        color: white;
      }

      .discord-widget-container iframe {
        border-radius: 0.75rem;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        transition: var(--transition-base);
        background: var(--gray-900);
      }

      .discord-widget-container iframe:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      }

      .discord-loading {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, var(--gray-800), var(--gray-900));
        border-radius: 0.75rem;
        padding: 3rem;
        text-align: center;
        color: var(--white);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        z-index: 1;
        width: 350px;
        height: 500px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .discord-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(88, 101, 242, 0.3);
        border-left-color: #5865f2;
        border-radius: 50%;
        animation: discordSpin 1s linear infinite;
        margin-bottom: 1rem;
      }

      @keyframes discordSpin {
        to {
          transform: rotate(360deg);
        }
      }

      .discord-fallback {
        background: linear-gradient(135deg, #5865f2, #7289da);
        border-radius: 0.75rem;
        padding: 2rem;
        text-align: center;
        color: white;
        width: 350px;
        height: 500px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .discord-fallback h3 {
        margin-bottom: 1rem;
        font-size: 1.5rem;
      }

      .discord-fallback p {
        margin-bottom: 1.5rem;
        opacity: 0.9;
        line-height: 1.6;
      }

      .discord-join-button {
        background: white;
        color: #5865f2;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: var(--transition-base);
      }

      .discord-join-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      /* Game Updates Section */
      .game-updates {
        background: linear-gradient(135deg, #1b2838 60%, #171a21 100%);
        background-blend-mode: overlay;
        backdrop-filter: blur(12px);
        padding: 5rem 0;
      }

      .updates-container {
        max-width: 800px;
        margin: 0 auto;
        background: linear-gradient(135deg, #23262e 80%, #1b2838 100%);
        border-radius: 12px;
        padding: 2.5rem 1.2rem 2rem 1.2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25), 0 0 0 1px #23262e;
        border: 1px solid #23262e;
      }

      .updates-header {
        text-align: center;
        margin-bottom: 2rem;
        padding-bottom: 1.5rem;
        border-bottom: 2px solid #304055;
      }

      .updates-header h2 {
        font-family: var(--font-display);
        font-size: 2.1rem;
        font-weight: 700;
        color: #c7d5e0;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        letter-spacing: 0.5px;
        text-shadow: 0 2px 8px #000a;
      }

      .steam-icon {
        width: 32px;
        height: 32px;
        background: linear-gradient(135deg, #2a475e, #1b2838 80%);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #c7d5e0;
        font-weight: bold;
        font-size: 1.3rem;
        box-shadow: 0 2px 8px #000a;
      }

      .updates-loading {
        text-align: center;
        padding: 3rem;
      }

      .updates-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(37, 99, 235, 0.3);
        border-left-color: var(--primary-color);
        border-radius: 50%;
        animation: updatesSpinner 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes updatesSpinner {
        to {
          transform: rotate(360deg);
        }
      }

      .updates-list {
        max-height: 500px;
        overflow-y: auto;
        padding-right: 0.5rem;
      }

      .updates-list::-webkit-scrollbar {
        width: 8px;
      }

      .updates-list::-webkit-scrollbar-track {
        background: var(--gray-100);
        border-radius: 4px;
      }

      .updates-list::-webkit-scrollbar-thumb {
        background: var(--primary-color);
        border-radius: 4px;
      }

      .update-item {
        background: linear-gradient(135deg, #23262e 80%, #1b2838 100%);
        border-radius: 8px;
        padding: 1.5rem 1.2rem 1.2rem 1.2rem;
        margin-bottom: 1.2rem;
        border-left: 5px solid #66c0f4;
        box-shadow: 0 2px 10px #0006;
        transition: box-shadow 0.18s, transform 0.18s;
      }

      .update-item:hover {
        transform: translateY(-2px) scale(1.012);
        box-shadow: 0 6px 24px #000a;
      }

      .update-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
        gap: 1rem;
      }

      .update-title {
        font-family: var(--font-display);
        font-size: 1.18rem;
        font-weight: 600;
        color: #66c0f4;
        margin: 0;
        flex: 1;
        text-shadow: 0 1px 4px #000a;
      }

      .update-date {
        color: #b8b6b4;
        font-size: 0.93rem;
        font-weight: 500;
        white-space: nowrap;
        background: #23262e;
        border-radius: 4px;
        padding: 0.18em 0.7em;
        margin-left: 0.5em;
        box-shadow: 0 1px 4px #0004;
      }

      .update-content {
        color: #c7d5e0;
        line-height: 1.7;
        white-space: pre-wrap;
        font-size: 1.01rem;
        margin-top: 0.5rem;
      }

      .update-content h3 {
        color: #66c0f4;
        margin: 1rem 0 0.5rem 0;
        font-size: 1.08rem;
        text-shadow: 0 1px 4px #000a;
      }

      .update-content ul {
        margin: 0.5rem 0;
        padding-left: 1.5rem;
      }

      .update-content li {
        margin-bottom: 0.25rem;
      }

      .updates-error {
        text-align: center;
        padding: 2rem;
        color: var(--gray-600);
      }

      .steam-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
        margin-top: 1.5rem;
        transition: var(--transition-base);
      }

      .steam-link:hover {
        color: var(--primary-dark);
        transform: translateY(-1px);
      }

      /* Loading Animation */
      .loading {
        opacity: 0.7;
        pointer-events: none;
      }

      /* Fade in animation for sections */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section-header {
        animation: fadeInUp 0.8s ease-out;
      }

      /* Pulse animation for loading states */
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .submit-button:disabled {
        animation: pulse 1.5s infinite;
        cursor: not-allowed;
      }

      /* Falling Leaf Effect */
      @keyframes fallDownFull {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 0.8;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      /* Sway animation now integrated into main fall animation */

      .falling-leaf {
        position: fixed;
        pointer-events: none;
        z-index: 10000;
        font-size: 2rem;
        user-select: none;
        /* Ensure leaves don't cause horizontal scroll */
        max-width: 2rem;
        will-change: transform;
        /* Prevent leaf from getting stuck */
        animation-fill-mode: forwards;
        /* Prevent leaves from extending page height */
        overflow: hidden;
        /* Clip leaves that go outside viewport */
        clip-path: inset(0 0 0 0);
        /* Custom animation will be applied via JavaScript */
      }

      /* Leaf container to prevent page extension */
      #leaf-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        overflow: hidden;
        z-index: 9999;
      }

      /* Medieval Bronze Cursor Variations */
      a,
      button,
      .cta-button,
      .submit-button,
      .nav-link,
      .social-link {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><defs><linearGradient id="bronzeHover" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23DAA520;stop-opacity:1" /><stop offset="30%" style="stop-color:%23CD7F32;stop-opacity:1" /><stop offset="70%" style="stop-color:%23B8860B;stop-opacity:1" /><stop offset="100%" style="stop-color:%23A0522D;stop-opacity:1" /></linearGradient></defs><path d="M3 3 L3 20 L8 15 L12 15 L18 25 L21 23 L15 13 L18 13 L3 3 Z" fill="url(%23bronzeHover)" stroke="%232F1B14" stroke-width="0.8"/><circle cx="22" cy="6" r="3" fill="%23FFD700" stroke="%23B8860B" stroke-width="0.5" opacity="0.8"/></svg>')
            3 3,
          pointer !important;
      }

      input,
      textarea,
      select {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="24" viewBox="0 0 20 24"><defs><linearGradient id="bronzeText" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23CD7F32;stop-opacity:1" /><stop offset="50%" style="stop-color:%23B8860B;stop-opacity:1" /><stop offset="100%" style="stop-color:%23A0522D;stop-opacity:1" /></linearGradient></defs><rect x="8" y="2" width="3" height="20" fill="url(%23bronzeText)" stroke="%23654321" stroke-width="0.5"/><rect x="6" y="2" width="7" height="2" fill="url(%23bronzeText)" stroke="%23654321" stroke-width="0.3"/><rect x="6" y="20" width="7" height="2" fill="url(%23bronzeText)" stroke="%23654321" stroke-width="0.3"/></svg>')
            10 12,
          text;
      }

      /* Container to prevent body overflow from leaves */
      body {
        overflow-x: hidden;
      }

      .falling-leaf.maple {
        color: #d97706;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .falling-leaf.oak {
        color: #059669;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .falling-leaf.birch {
        color: #eab308;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .falling-leaf.autumn {
        color: #dc2626;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      /* Performance Optimizations & Image Enhancement */
      img {
        max-width: 100%;
        height: auto;
        /* Optimize image rendering */
        image-rendering: -webkit-optimize-contrast;
        image-rendering: optimize-contrast;
        /* Prevent layout shift during loading */
        content-visibility: auto;
        contain-intrinsic-size: 300px 200px;
      }

      /* Enhance all images to prevent fading */
      img:not(.hero-logo):not(.footer-logo) {
        position: relative;
        z-index: 5;
      }

      /* Logo specific enhancements */
      .logo img,
      .footer-logo {
        filter: contrast(1.1) saturate(1.1) brightness(1.05);
      }

      /* Reduce animations on slow devices */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* High contrast mode support */
      @media (prefers-contrast: high) {
        .section-title,
        .section-subtitle,
        .feature-content h3,
        .feature-content p {
          text-shadow: none;
          font-weight: 700;
        }
        .feature-card,
        .team-member {
          border: 2px solid var(--gray-800);
        }
      }

      /* Mobile Responsiveness */
      @media (max-width: 768px) {
        .discord-widget-container iframe {
          width: 100%;
          max-width: 350px;
          height: 400px;
        }
        .section-title {
          font-size: 2rem;
        }
        .features-grid-compact,
        .team-grid {
          grid-template-columns: 1fr;
        }

        .feature-header h3 {
          font-size: 1.2rem;
        }

        .feature-card-overlay.expanded .feature-text-overlay {
          max-height: 250px;
        }

        .feature-overlay-content {
          padding: 1rem;
        }

        .expand-toggle {
          width: 28px;
          height: 28px;
        }
        .feature-overlay h3 {
          font-size: 1.1rem;
        }

        .feature-card-compact.expanded .feature-content-expandable {
          max-height: 400px;
        }
        .footer-content {
          flex-direction: column;
          text-align: center;
        }
        .contact-form {
          padding: 1.5rem;
        }

        /* Removed order properties for natural stacking */
      }
    </style>

    <!-- Non-critical stylesheets -->
    <noscript>
      <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet"
      />
    </noscript>

    <!-- SEO and Social Media -->
    <meta property="og:title" content="Windhelm®" />
    <meta
      property="og:description"
      content="Embark on a procedurally generated story-driven RPG adventure with dynamic quests and legendary heroes."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="images/Logo.png" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "VideoGame",
        "name": "Windhelm",
        "developer": {
          "@type": "Organization",
          "name": "NorwinLabs",
          "logo": "images/Logo.png"
        },
        "sameAs": [
          "https://www.youtube.com/@NorwinLabs",
          "https://discord.gg/PgGA8Zsj4g",
          "https://store.steampowered.com/app/2171040/Windhelm/"
        ]
      }
    </script>
    <style>
      .contact-social .social-links-large {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-top: 1rem;
      }
      .header .social-links {
        display: flex;
        justify-content: center;
        gap: 0.75rem;
      }
    </style>
    <style>
      /* Login Modal Enhancements */
      #login-modal input:focus {
        border-color: #2563eb;
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
      }
      #login-modal button:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
      }
      #login-modal button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
      }
      #password-toggle:hover {
        color: #2563eb;
      }
      @keyframes modalFadeIn {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
      }
      .login-loading {
        position: relative;
        color: transparent;
      }
      .login-loading::after {
        content: '';
        position: absolute;
        width: 16px;
        height: 16px;
        top: 50%;
        left: 50%;
        margin-left: -8px;
        margin-top: -8px;
        border: 2px solid #ffffff;
        border-radius: 50%;
        border-top-color: transparent;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <!-- Navigation Header -->
    <header class="header">
      <nav class="nav" role="navigation" aria-label="Main Navigation">
        <div class="nav-container">
          <a href="#" class="logo">
            <img
              src="images/Logo.png"
              alt="Windhelm Logo"
              width="120"
              height="55"
            />
          </a>

          <div class="nav-menu" id="nav-menu">
            <a href="#home" class="nav-link">Home</a>
            <a href="#features" class="nav-link">Features</a>
            <a href="#team" class="nav-link">Team</a>
            <a href="#contact" class="nav-link">Contact</a>
            <button id="login-btn" class="nav-link" style="background:#2563eb;color:#fff;border:none;border-radius:6px;padding:0.5rem 1rem;cursor:pointer;">Login</button>
          </div>
          <div
            class="nav-overlay"
            id="nav-overlay"
            tabindex="-1"
            aria-hidden="true"
          ></div>

          <div class="social-links">
            <a
              href="https://www.youtube.com/@NorwinLabs"
              target="_blank"
              rel="noopener"
              aria-label="YouTube"
              class="social-link"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
                />
              </svg>
            </a>
            <a
              href="https://discord.gg/PgGA8Zsj4g"
              target="_blank"
              rel="noopener"
              aria-label="Discord"
              class="social-link"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.211.375-.445.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"
                />
              </svg>
            </a>
            <a
              href="https://store.steampowered.com/app/2171040/Windhelm/"
              target="_blank"
              rel="noopener"
              aria-label="Steam"
              class="social-link"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.62 20.51 6.363 24 11.979 24c6.624 0 11.979-5.354 11.979-11.979C23.958 5.354 18.603.001 11.979.001zM7.54 18.21l-1.473-.61c.262.543.714.999 1.314 1.25 1.297.539 2.793-.076 3.332-1.375.263-.63.264-1.319.005-1.949s-.75-1.121-1.377-1.383c-.624-.26-1.29-.249-1.878-.03l1.523.63c.956.4 1.409 1.5 1.009 2.455-.397.957-1.497 1.41-2.454 1.012H7.54zm11.415-9.303c0-1.66-1.353-3.015-3.015-3.015-1.665 0-3.015 1.355-3.015 3.015 0 1.665 1.35 3.015 3.015 3.015 1.663 0 3.015-1.35 3.015-3.015zm-5.273-.005c0-1.252 1.013-2.266 2.265-2.266 1.249 0 2.266 1.014 2.266 2.266 0 1.251-1.017 2.265-2.266 2.265-1.253 0-2.265-1.014-2.265-2.265z"
                />
              </svg>
            </a>
          </div>

          <button
            class="nav-toggle"
            id="nav-toggle"
            aria-label="Toggle navigation"
            aria-expanded="false"
          >
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
      </nav>
    </header>

    <!-- Login Modal -->
    <div id="login-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.6);z-index:2000;justify-content:center;align-items:center;backdrop-filter:blur(4px);">
      <div style="background:#fff;padding:2.5rem 3rem;border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,0.3);max-width:400px;width:90%;position:relative;animation:modalFadeIn 0.3s ease-out;">
        <button id="close-login" style="position:absolute;top:15px;right:15px;background:none;border:none;font-size:1.8rem;cursor:pointer;color:#666;transition:color 0.2s;">&times;</button>
        <div style="text-align:center;margin-bottom:2rem;">
          <h2 style="margin:0 0 0.5rem 0;color:#333;font-size:1.8rem;font-weight:600;">Welcome Back</h2>
          <p style="margin:0;color:#666;font-size:0.95rem;">Sign in to view your orders</p>
        </div>
        <form id="login-form">
          <div style="margin-bottom:1.5rem;">
            <label for="username" style="display:block;margin-bottom:0.5rem;color:#333;font-weight:500;font-size:0.95rem;">Username</label>
            <input type="text" id="username" name="username" placeholder="Enter your username" required style="width:100%;padding:0.8rem 1rem;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:border-color 0.2s,box-shadow 0.2s;outline:none;">
          </div>
          <div style="margin-bottom:2rem;">
            <label for="password" style="display:block;margin-bottom:0.5rem;color:#333;font-weight:500;font-size:0.95rem;">Password</label>
            <div style="position:relative;">
              <input type="password" id="password" name="password" placeholder="Enter your password" required style="width:100%;padding:0.8rem 3rem 0.8rem 1rem;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:border-color 0.2s,box-shadow 0.2s;outline:none;">
              <button type="button" id="password-toggle" style="position:absolute;right:0.75rem;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:0.25rem;color:#666;font-size:1.2rem;transition:color 0.2s;" title="Toggle password visibility">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
          </div>
          <button type="submit" id="login-submit-btn" style="width:100%;padding:0.9rem 1rem;background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s;">Sign In</button>
        </form>
        <div id="login-message" style="margin-top:1.5rem;text-align:center;color:#ef4444;font-size:0.9rem;min-height:1.2rem;"></div>
      </div>
    </div>

    <main id="main">
      <!-- Hero Section -->
      <section id="home" class="hero section-animate">
        <div class="hero-background">
          <video
            autoplay
            loop
            muted
            playsinline
            poster="images/WindhelmYoutubeBanner.jpg"
            style="width: 100%; height: 100%; object-fit: cover; z-index: 1"
          >
            <source src="images/BGVideo.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
          <div class="hero-overlay"></div>
        </div>
        <div class="hero-content">
          <h1 class="hero-title-main">
            <img
              src="images/Logo.png"
              alt="Windhelm"
              class="hero-logo"
              fetchpriority="high"
            />
          </h1>
          <span class="hero-title-sub">Epic RPG Adventure</span>
          <p class="hero-description">
            A procedurally generated story-driven RPG where every playthrough
            tells a unique tale with dynamic quests and legendary heroes.
          </p>
          <div class="hero-cta">
            <a
              href="https://store.steampowered.com/app/2171040/Windhelm/"
              class="cta-button primary"
              target="_blank"
              >Wishlist on Steam</a
            >
            <a href="#features" class="cta-button secondary">Learn More</a>
          </div>
        </div>
      </section>

      <!-- Steam Widget Section -->
      <section id="steam-widget" class="steam-widget-section section-animate">
        <div
          class="container"
          style="
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem 0;
          "
        >
          <iframe
            src="https://store.steampowered.com/widget/2171040/"
            frameborder="0"
            width="646"
            height="190"
            style="
              max-width: 100%;
              border-radius: 12px;
              box-shadow: 0 6px 32px #000a;
              margin: 0 auto;
              background: #171a21;
            "
            title="Windhelm on Steam"
            allowtransparency="true"
          ></iframe>
        </div>
      </section>

      <!-- Game Features Section -->
      <section id="features" class="features section-animate">
        <div class="container">
          <header class="section-header">
            <h2 class="section-title">Discover Windhelm</h2>
            <p class="section-subtitle">
              A procedurally generated story-driven RPG where every playthrough
              creates a unique narrative adventure - crafted by a passionate
              husband-wife indie team
            </p>
          </header>

          <div class="features-grid-compact">
            <article
              class="feature-card-overlay"
              data-feature="quests"
              tabindex="0"
              role="button"
              aria-label="Expand details for Procedurally Generated Quests"
            >
              <div class="feature-image-container">
                <img
                  src="images/2.png"
                  alt="Procedurally Generated Quests"
                  loading="eager"
                  fetchpriority="high"
                  decoding="async"
                />
                <div class="feature-overlay-content">
                  <div class="feature-header">
                    <h3>Procedurally Generated Quests</h3>
                    <div class="expand-toggle">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="feature-text-overlay">
                    <p>
                      Windhelm features a revolutionary procedurally generated
                      quest system that creates unique stories for every
                      playthrough. Unlike traditional linear RPGs, our advanced
                      narrative engine weaves together dynamic storylines,
                      ensuring no two adventures are the same. The world
                      responds to your actions, offering infinite solutions to
                      procedurally crafted challenges and ensuring no two
                      playthroughs are the same. Experience emergent
                      storytelling where your choices matter and consequences
                      unfold naturally.
                    </p>
                  </div>
                </div>
              </div>
            </article>

            <article
              class="feature-card-overlay"
              data-feature="world"
              tabindex="0"
              role="button"
              aria-label="Expand details for Procedurally Generated World & Lore"
            >
              <div class="feature-image-container">
                <img
                  src="images/3.png"
                  alt="Procedurally Generated World & Lore"
                  loading="eager"
                  fetchpriority="high"
                  decoding="async"
                />
                <div class="feature-overlay-content">
                  <div class="feature-header">
                    <h3>Procedurally Generated World & Lore</h3>
                    <div class="expand-toggle">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="feature-text-overlay">
                    <p>
                      Explore the vast realm of Windhelm, where advanced
                      procedural generation creates a living fantasy world
                      filled with unique mysteries, diverse landscapes, and rich
                      cultural histories that evolve with each playthrough. From
                      mystical forests to towering mountain fortresses, every
                      location tells a different story through dynamic
                      environmental storytelling and procedurally woven lore.
                      Discover forgotten ruins, uncover lost civilizations, and
                      interact with AI-driven NPCs who have their own
                      procedurally generated goals, memories, and motivations
                      that create authentic story moments beyond serving the
                      player's needs.
                    </p>
                  </div>
                </div>
              </div>
            </article>

            <article
              class="feature-card-overlay"
              data-feature="character"
              tabindex="0"
              role="button"
              aria-label="Expand details for Story-Driven Character Evolution"
            >
              <div class="feature-image-container">
                <img
                  src="images/4.png"
                  alt="Story-Driven Character Evolution"
                  loading="eager"
                  fetchpriority="high"
                  decoding="async"
                />
                <div class="feature-overlay-content">
                  <div class="feature-header">
                    <h3>Story-Driven Character Evolution</h3>
                    <div class="expand-toggle">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="feature-text-overlay">
                    <p>
                      Create and develop legendary heroes whose stories unfold
                      through our extensive narrative-integrated progression
                      system. Choose from multiple classes, each with unique
                      abilities, skill trees, and story arcs that interweave
                      with the world's lore. Craft and customize equipment that
                      carries procedural backstories, master diverse combat
                      techniques, and develop meaningful relationships with
                      companions whose personal narratives evolve. The game
                      features deep character development where your build
                      choices and story decisions significantly impact gameplay
                      mechanics, procedural dialogue generation, and branching
                      story outcomes, ensuring every hero's tale feels truly
                      unique and memorable.
                    </p>
                  </div>
                </div>
              </div>
            </article>

            <article
              class="feature-card-overlay"
              data-feature="combat"
              tabindex="0"
              role="button"
              aria-label="Expand details for Tactical Combat System"
            >
              <div class="feature-image-container">
                <img
                  src="images/5.png"
                  alt="Tactical Combat System"
                  loading="lazy"
                  decoding="async"
                />
                <div class="feature-overlay-content">
                  <div class="feature-header">
                    <h3>Tactical Combat System</h3>
                    <div class="expand-toggle">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="feature-text-overlay">
                    <p>
                      Engage in strategic, free flow combat that rewards
                      planning and positioning over button-mashing. Utilize
                      environmental hazards, elemental synergies, and tactical
                      abilities to overcome challenging encounters. The combat
                      system emphasizes resource management, timing, and smart
                      use of abilities rather than reflexes. Face diverse enemy
                      types that require different strategies, from cunning
                      rogues to massive ancient dragons, each presenting unique
                      tactical challenges.
                    </p>
                  </div>
                </div>
              </div>
            </article>

            <article
              class="feature-card-overlay"
              data-feature="indie"
              tabindex="0"
              role="button"
              aria-label="Expand details for Story-First Indie Vision"
            >
              <div class="feature-image-container">
                <img
                  src="images/Grasslandoverlook1.png"
                  alt="Story-First Indie Vision"
                  loading="lazy"
                  decoding="async"
                />
                <div class="feature-overlay-content">
                  <div class="feature-header">
                    <h3>Story-First Indie Vision</h3>
                    <div class="expand-toggle">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="feature-text-overlay">
                    <p>
                      Windhelm is lovingly crafted by NorwinLabs, a dedicated
                      husband-wife indie development team passionate about
                      procedural storytelling and narrative innovation. Every
                      aspect of the game reflects our commitment to creating
                      meaningful, emergent stories through advanced procedural
                      generation. We prioritize deep narrative systems over
                      flashy graphics, focusing on revolutionary story
                      mechanics, procedurally woven narratives, and meaningful
                      player agency that shapes unique tales. As an indie
                      project, we maintain direct communication with our
                      community, incorporating player feedback and ensuring the
                      game stays true to its vision of delivering an authentic
                      story-driven RPG experience with infinite replayability.
                    </p>
                  </div>
                </div>
              </div>
            </article>

            <article
              class="feature-card-overlay"
              data-feature="community"
              tabindex="0"
              role="button"
              aria-label="Expand details for Community-Driven Development"
            >
              <div class="feature-image-container">
                <img
                  src="images/pngegg.png"
                  alt="Community-Driven Development"
                  loading="lazy"
                  decoding="async"
                />
                <div class="feature-overlay-content">
                  <div class="feature-header">
                    <h3>Community-Driven Development</h3>
                    <div class="expand-toggle">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="feature-text-overlay">
                    <p>
                      Join our growing community of RPG enthusiasts and become
                      part of Windhelm's development journey. We actively engage
                      with players through Discord, incorporating valuable
                      feedback and suggestions into the game. Early supporters
                      gain access to development updates, beta testing
                      opportunities, and exclusive content. Our transparent
                      development process allows the community to witness and
                      influence the creation of something special. Together,
                      we're building not just a game, but a shared adventure
                      that celebrates the RPG genre.
                    </p>
                  </div>
                </div>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- Game Updates Section -->
      <section id="updates" class="game-updates section-animate">
        <div class="container">
          <div class="updates-container">
            <div class="updates-header">
              <h2>Latest Game Updates</h2>
              <p style="color: var(--gray-600); margin: 0">
                Latest development updates and changelogs from Steam
              </p>
            </div>

            <!-- Loading State -->
            <div class="updates-loading" id="updates-loading">
              <div class="updates-spinner"></div>
              <h3>Loading Updates...</h3>
              <p style="color: var(--gray-600)">
                Fetching latest changes from Steam
              </p>
            </div>

            <!-- Updates List -->
            <div
              class="updates-list"
              id="updates-list"
              style="display: none"
            ></div>

            <!-- Error State -->
            <div class="updates-error" id="updates-error" style="display: none">
              <h3>📡 Unable to Load Updates</h3>
              <p>
                We're having trouble connecting to Steam right now. Please check
                back later or visit our Steam page directly.
              </p>
              <a
                href="https://store.steampowered.com/app/2171040"
                class="steam-link"
                target="_blank"
                rel="noopener"
              >
                <div class="steam-icon">S</div>
                View on Steam Store
              </a>
            </div>

            <!-- Fallback container (empty unless real Steam data fails to load) -->
            <div
              class="updates-fallback"
              id="updates-fallback"
              style="display: none"
            ></div>

            <div style="text-align: center; margin-top: 1.5rem">
              <a
                href="https://store.steampowered.com/app/2171040"
                class="steam-link"
                target="_blank"
                rel="noopener"
              >
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Team Section -->
      <section id="team" class="team section-animate">
        <div class="container">
          <header class="section-header">
            <h2 class="section-title">The Dynamic Duo</h2>
            <p class="section-subtitle">
              + Arkyn 👶, Luna 🐶, Stella 🐶, and Neptune 😺
            </p>
          </header>

          <div class="team-grid">
            <article class="team-member">
              <div class="member-image">
                <img
                  src="images/Gavin1.jpg"
                  alt="Gavin Norwood"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="member-info">
                <h3>Gavin Norwood</h3>
                <p class="member-role">Creator / Developer</p>
              </div>
            </article>

            <article class="team-member">
              <div class="member-image">
                <img
                  src="images/Kirstenjpg1.jpg"
                  alt="Kirsten Norwood"
                  loading="lazy"
                  decoding="async"
                />
              </div>
              <div class="member-info">
                <h3>Kirsten Norwood</h3>
                <p class="member-role">Level Designer / Writer</p>
              </div>
            </article>
          </div>

          <div class="supporters">
            <h3>Early Backers / Patrons</h3>
            <p><span class="supporter-name">Cody Palmer</span></p>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="contact section-animate">
        <script>
          // Intersection Observer for section animations
          document.addEventListener("DOMContentLoaded", function () {
            const animatedSections =
              document.querySelectorAll(".section-animate");
            const observer = new window.IntersectionObserver(
              (entries, obs) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    entry.target.classList.add("visible");
                    obs.unobserve(entry.target);
                  }
                });
              },
              { threshold: 0.15 }
            );
            animatedSections.forEach((section) => {
              observer.observe(section);
            });
          });
        </script>
        <div class="container">
          <header class="section-header">
            <h2 class="section-title">Let's Connect</h2>
            <p class="section-subtitle">
              Have questions about Windhelm? Want to join our community? We'd
              love to hear from you!
            </p>
          </header>

          <div class="contact-grid">
            <!-- Contact Info Cards -->
            <div class="contact-info">
              <div class="contact-card">
                <div class="contact-card-icon">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"
                      fill="#5865F2"
                    />
                  </svg>
                </div>
                <h3 class="contact-card-title">Join Our Discord</h3>
                <p class="contact-card-text">
                  Connect with our community, get live updates, and chat with
                  the developers!
                </p>
                <a
                  href="https://discord.gg/PgGA8Zsj4g"
                  class="contact-card-link"
                  target="_blank"
                >
                  Join Discord
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7 17L17 7M17 7H7M17 7V17"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </a>
              </div>

              <div class="contact-card">
                <div class="contact-card-icon">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
                      fill="#FF0000"
                    />
                  </svg>
                </div>
                <h3 class="contact-card-title">YouTube Channel</h3>
                <p class="contact-card-text">
                  Watch development vlogs, gameplay previews, and
                  behind-the-scenes content!
                </p>
                <a
                  href="https://www.youtube.com/@NorwinLabs"
                  class="contact-card-link"
                  target="_blank"
                >
                  Watch Videos
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7 17L17 7M17 7H7M17 7V17"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </a>
              </div>

              <div class="contact-card">
                <div class="contact-card-icon">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                      fill="#00D924"
                    />
                  </svg>
                </div>
                <h3 class="contact-card-title">Wishlist on Steam</h3>
                <p class="contact-card-text">
                  Add Windhelm to your Steam wishlist to get notified when we
                  launch!
                </p>
                <a
                  href="https://store.steampowered.com/app/2171040/Windhelm/"
                  class="contact-card-link"
                  target="_blank"
                >
                  Wishlist Now
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7 17L17 7M17 7H7M17 7V17"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </a>
              </div>
            </div>

            <!-- Contact Form -->
            <div class="contact-form-container">
              <div class="contact-form-header">
                <h3>Send us a Message</h3>
                <p>Got a specific question or feedback? Drop us a line!</p>
              </div>

              <form
                class="contact-form"
                id="contact-form"
                action="https://forms.nicepagesrv.com/v2/form/process"
                method="POST"
              >
                <div class="form-group">
                  <label for="name">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Your Name
                  </label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    placeholder="Enter your name"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="email">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <polyline
                        points="22,6 12,13 2,6"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Email Address
                  </label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    placeholder="your.email@example.com"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="message">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Your Message
                  </label>
                  <textarea
                    id="message"
                    name="message"
                    rows="5"
                    placeholder="Tell us about your thoughts, questions, or feedback..."
                    required
                  ></textarea>
                </div>

                <div class="form-group checkbox-group">
                  <input type="checkbox" id="agree" name="agree" required />
                  <label for="agree" class="checkbox-label">
                    I accept the
                    <a href="#" class="terms-link">Terms of Service</a> and
                    <a href="#" class="terms-link">Privacy Policy</a>
                  </label>
                </div>

                <button type="submit" class="submit-button">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  Send Message
                </button>

                <input
                  type="hidden"
                  name="formServices"
                  value="fd87cc1f-cce2-e1b0-f874-071208ba58c1"
                />
                <input
                  type="hidden"
                  name="siteKey"
                  value="6LcIF7AqAAAAANPHfgAYi7su81ChnUac3zICzAc0"
                />
                <input type="hidden" name="recaptchaResponse" value="" />
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-brand">
            <img
              src="images/Logo.png"
              alt="Windhelm Logo"
              class="footer-logo"
            />
            <p>©2025 NorwinLabs LLC. All rights reserved.</p>
          </div>
          <div class="footer-version" id="version-display">
            <span id="version-number">v1.0.0</span>
            <span
              id="build-info"
              style="font-size: 0.8em; opacity: 0.7; margin-left: 0.5rem"
            ></span>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // Automatic Versioning System
      class VersionManager {
        constructor() {
          this.baseVersion = { major: 1, minor: 2, patch: 0 };
          this.buildDate = new Date();
          this.deploymentId = this.generateDeploymentId();
          this.initializeVersioning();
        }

        generateDeploymentId() {
          // Generate unique deployment ID based on timestamp
          const timestamp = Date.now();
          const randomSuffix = Math.random().toString(36).substr(2, 4);
          return `${timestamp.toString(36)}-${randomSuffix}`;
        }

        calculateDynamicVersion() {
          // Calculate days since base date (Jan 1, 2025)
          const baseDate = new Date("2025-01-01");
          const daysSinceBase = Math.floor(
            (this.buildDate - baseDate) / (1000 * 60 * 60 * 24)
          );

          // Auto-increment patch version based on days
          const autoPatches = Math.floor(daysSinceBase / 7); // New patch every week
          const autoMinor = Math.floor(daysSinceBase / 30); // New minor every month

          return {
            major: this.baseVersion.major,
            minor: this.baseVersion.minor + autoMinor,
            patch: this.baseVersion.patch + autoPatches,
          };
        }

        getVersionString() {
          const version = this.calculateDynamicVersion();
          return `v${version.major}.${version.minor}.${version.patch}`;
        }

        getBuildInfo() {
          const buildMonth = this.buildDate.toLocaleDateString("en-US", {
            month: "short",
          });
          const buildDay = this.buildDate.getDate();
          const buildYear = this.buildDate.getFullYear();
          const deploymentShort = this.deploymentId.substr(0, 8);

          return `Build ${buildMonth} ${buildDay}, ${buildYear} • ${deploymentShort}`;
        }

        initializeVersioning() {
          // Update version display immediately
          this.updateVersionDisplay();

          // Store version info in localStorage for persistence
          const versionInfo = {
            version: this.getVersionString(),
            buildDate: this.buildDate.toISOString(),
            deploymentId: this.deploymentId,
            lastUpdate: Date.now(),
          };

          localStorage.setItem(
            "windhelm_version_info",
            JSON.stringify(versionInfo)
          );

          // Add version to console for debugging
          console.log(
            `%cWindhelm ${this.getVersionString()}`,
            "color: #d97706; font-weight: bold; font-size: 14px;"
          );
          console.log(`Build Info: ${this.getBuildInfo()}`);
        }

        updateVersionDisplay() {
          const versionElement = document.getElementById("version-number");
          const buildElement = document.getElementById("build-info");

          if (versionElement) {
            versionElement.textContent = this.getVersionString();

            // Add hover effect to show full build info
            versionElement.title = `${this.getVersionString()}\n${this.getBuildInfo()}\nDeployment: ${
              this.deploymentId
            }`;
          }

          if (buildElement) {
            buildElement.textContent = this.getBuildInfo();
          }
        }

        // Method to manually increment version for major releases
        incrementVersion(type = "patch") {
          switch (type) {
            case "major":
              this.baseVersion.major++;
              this.baseVersion.minor = 0;
              this.baseVersion.patch = 0;
              break;
            case "minor":
              this.baseVersion.minor++;
              this.baseVersion.patch = 0;
              break;
            case "patch":
              this.baseVersion.patch++;
              break;
          }

          this.updateVersionDisplay();
          console.log(
            `Version manually incremented to ${this.getVersionString()}`
          );
        }

        // Get version history from localStorage
        getVersionHistory() {
          const stored = localStorage.getItem("windhelm_version_info");
          return stored ? JSON.parse(stored) : null;
        }
      }

      // Initialize versioning system
      const versionManager = new VersionManager();

      // Make version manager globally available for debugging
      window.WindhelmVersion = versionManager;

      // Load non-critical CSS asynchronously
      function loadCSS(href, onload) {
        var link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = href;
        link.onload = onload || null;
        document.head.appendChild(link);
      }

      // Load fonts after page load
      window.addEventListener("load", function () {
        loadCSS(
          "https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        );
      });

      // Image loading optimization
      function optimizeImages() {
        // Preload visible images
        const images = document.querySelectorAll('img[loading="lazy"]');
        const imageObserver = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const img = entry.target;
                // Add loading fade effect
                img.style.transition = "opacity 0.3s ease";
                img.style.opacity = "0";

                img.onload = function () {
                  this.style.opacity = "1";
                };

                observer.unobserve(img);
              }
            });
          },
          {
            rootMargin: "50px",
          }
        );

        images.forEach((img) => imageObserver.observe(img));

        // Prefetch next section images on scroll
        let prefetched = new Set();
        window.addEventListener("scroll", () => {
          const scrolled = window.scrollY;
          const windowHeight = window.innerHeight;
          const documentHeight = document.documentElement.scrollHeight;

          // Prefetch team images when halfway down
          if (scrolled > documentHeight * 0.5 && !prefetched.has("team")) {
            const teamImages = ["images/Gavin1.jpg", "images/Kirstenjpg1.jpg"];
            teamImages.forEach((src) => {
              const link = document.createElement("link");
              link.rel = "prefetch";
              link.href = src;
              document.head.appendChild(link);
            });
            prefetched.add("team");
          }
        });
      }

      // Initialize image optimization
      if ("IntersectionObserver" in window) {
        document.addEventListener("DOMContentLoaded", optimizeImages);
      }
    </script>
    <script src="script.js" defer></script>

    <!-- Form success/error messages -->
    <div id="form-messages" class="form-messages" style="display: none">
      <div class="form-success" id="form-success">
        Thank you! Your message has been sent.
      </div>
      <div class="form-error" id="form-error">
        Unable to send your message. Please try again.
      </div>
    </div>
    <script>
      console.log("Windhelm site loaded successfully!");

      // ===== FALLING LEAF SYSTEM =====
      // Spawn leaves randomly at the top every few seconds
      setInterval(() => {
        const leafCount = Math.floor(Math.random() * 3) + 1; // 1-3 leaves
        for (let i = 0; i < leafCount; i++) {
          setTimeout(() => {
            const x = Math.random() * window.innerWidth;
            const y = -20; // Start just above the top
            createLeaf(x, y, false);
          }, i * 200);
        }
      }, 3000); // Every 3 seconds

      function createLeaf(x, y, isSpecial) {
        const leafTypes = ["🍃", "🍂", "🌿", "🍀"];
        const leaf = document.createElement("div");
        leaf.innerHTML =
          leafTypes[Math.floor(Math.random() * leafTypes.length)];

        leaf.style.cssText = `
          position: fixed;
          left: ${x}px;
          top: ${y}px;
          font-size: ${isSpecial ? "2.5rem" : "2rem"};
          z-index: 9999;
          pointer-events: none;
          animation: windhelm-leaf-fall ${
            3 + Math.random() * 2
          }s ease-out forwards;
        `;

        // Add leaf animation CSS
        if (!document.getElementById("windhelm-leaf-styles")) {
          const style = document.createElement("style");
          style.id = "windhelm-leaf-styles";
          style.textContent = `
            @keyframes windhelm-leaf-fall {
              0% { 
                transform: translateY(0) rotate(0deg) translateX(0); 
                opacity: 0.8; 
              }
              10% { opacity: 1; }
              30% {
                transform: translateY(150px) rotate(120deg) translateX(${
                  (Math.random() - 0.5) * 60
                }px);
              }
              60% {
                transform: translateY(300px) rotate(240deg) translateX(${
                  (Math.random() - 0.5) * 120
                }px);
              }
              100% { 
                transform: translateY(500px) rotate(360deg) translateX(${
                  (Math.random() - 0.5) * 200
                }px); 
                opacity: 0; 
              }
            }
          `;
          document.head.appendChild(style);
        }

        document.body.appendChild(leaf);

        // Clean up after animation
        setTimeout(() => {
          if (leaf.parentNode) leaf.parentNode.removeChild(leaf);
        }, 6000);
      }

      // ===== MOBILE NAVIGATION =====
      const navToggle = document.getElementById("nav-toggle");
      const navMenu = document.getElementById("nav-menu");

      if (navToggle && navMenu) {
        navToggle.addEventListener("click", function () {
          navToggle.classList.toggle("active");
          navMenu.classList.toggle("active");
          const expanded = navToggle.getAttribute("aria-expanded") === "true";
          navToggle.setAttribute("aria-expanded", !expanded);
        });

        // Close mobile menu when clicking on nav links
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.addEventListener("click", function () {
            navToggle.classList.remove("active");
            navMenu.classList.remove("active");
            navToggle.setAttribute("aria-expanded", "false");
          });
        });
      }

      // ===== EXPANDABLE FEATURE CARDS =====
      function initializeExpandableFeatures() {
        const featureCards = document.querySelectorAll(".feature-card-overlay");

        featureCards.forEach((card) => {
          card.addEventListener("click", function (e) {
            e.preventDefault();

            // Close other expanded cards first
            featureCards.forEach((otherCard) => {
              if (
                otherCard !== card &&
                otherCard.classList.contains("expanded")
              ) {
                otherCard.classList.remove("expanded");
                otherCard.setAttribute("aria-expanded", "false");
              }
            });

            // Toggle current card
            this.classList.toggle("expanded");
            this.setAttribute(
              "aria-expanded",
              this.classList.contains("expanded")
            );

            // Add extra leaves when expanding
            if (this.classList.contains("expanded")) {
              const rect = this.getBoundingClientRect();
              const centerX = rect.left + rect.width / 2;
              const centerY = rect.top + rect.height / 2;

              // Create extra celebration leaves
              for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                  createLeaf(centerX, centerY, true);
                }, i * 100);
              }
            }
          });

          // Keyboard support
          card.addEventListener("keydown", function (e) {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              this.click();
            }
          });

          // Accessibility
          card.setAttribute("tabindex", "0");
          card.setAttribute("role", "button");
          card.setAttribute("aria-expanded", "false");

          const title = card.querySelector("h3");
          if (title) {
            card.setAttribute(
              "aria-label",
              `Expand details for ${title.textContent}`
            );
          }
        });
      }

      // ===== SMOOTH SCROLLING =====
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // ===== ACTIVE NAVIGATION HIGHLIGHTING =====
      function setActiveNav() {
        const sections = document.querySelectorAll("section[id]");
        const navLinks = document.querySelectorAll(".nav-link");

        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (scrollY >= sectionTop - 200) {
            current = section.getAttribute("id");
          }
        });

        navLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === "#" + current) {
            link.classList.add("active");
          }
        });
      }

      window.addEventListener("scroll", setActiveNav);

      // ===== EMAIL TOGGLE =====
      const toggleEmail = document.getElementById("toggle-email");
      if (toggleEmail) {
        toggleEmail.addEventListener("click", function () {
          const collapse = document.getElementById("email-collapse");
          if (collapse) {
            collapse.style.display =
              collapse.style.display === "none" ? "block" : "none";
          }
        });
      }

      // ===== CONTACT FORM =====
      const contactForm = document.getElementById("contact-form");
      const formSuccess = document.getElementById("form-success");

      if (contactForm && formSuccess) {
        contactForm.addEventListener("submit", function (e) {
          e.preventDefault();

          // Show success message
          formSuccess.style.display = "block";

          // Hide success message after 5 seconds
          setTimeout(() => {
            formSuccess.style.display = "none";
          }, 5000);

          // Reset form
          contactForm.reset();
        });
      }

      // ===== INITIALIZATION =====
      document.addEventListener("DOMContentLoaded", function () {
        console.log("Initializing Windhelm site features...");
        initializeExpandableFeatures();
        setActiveNav();
        console.log("✨ Windhelm site ready! Click anywhere for leaves! 🍃");
      });

      // Initialize immediately if DOM already loaded
      if (document.readyState !== "loading") {
        console.log("DOM already loaded, initializing immediately...");
        initializeExpandableFeatures();
        setActiveNav();
        console.log("✨ Windhelm site ready! Click anywhere for leaves! 🍃");
      }

      // ===== DISCORD WIDGET HANDLING =====
      function handleDiscordLoad() {
        console.log("Discord widget loaded successfully!");
        const loading = document.getElementById("discord-loading");
        const widget = document.getElementById("discord-widget");
        const fallback = document.getElementById("discord-fallback");

        if (loading) loading.style.display = "none";
        if (widget) widget.style.display = "block";
        if (fallback) fallback.style.display = "none";
      }

      function handleDiscordError() {
        console.log("Discord widget failed to load, showing fallback");
        const loading = document.getElementById("discord-loading");
        const widget = document.getElementById("discord-widget");
        const fallback = document.getElementById("discord-fallback");

        if (loading) loading.style.display = "none";
        if (widget) widget.style.display = "none";
        if (fallback) fallback.style.display = "flex";
      }

      // Timeout fallback in case iframe never triggers load/error events
      setTimeout(() => {
        const loading = document.getElementById("discord-loading");
        const widget = document.getElementById("discord-widget");
        const fallback = document.getElementById("discord-fallback");

        if (loading && loading.style.display !== "none") {
          console.log("Discord widget timed out, showing fallback");
          loading.style.display = "none";
          if (fallback) fallback.style.display = "flex";
        }
      }, 10000); // 10 second timeout

      // ===== STEAM UPDATES SYSTEM (Steam News API) =====
      async function loadSteamUpdates() {
        console.log("Loading Steam news updates...");
        const loadingEl = document.getElementById("updates-loading");
        const listEl = document.getElementById("updates-list");
        const errorEl = document.getElementById("updates-error");
        const fallbackEl = document.getElementById("updates-fallback");

        try {
          const steamAppId = "2171040";
          const newsUrl = `https://api.steampowered.com/ISteamNews/GetNewsForApp/v0002/?appid=${steamAppId}&count=5&maxlength=1200&format=json`;
          const proxyUrl = "https://api.allorigins.win/get?url=";
          const fullUrl = `${proxyUrl}${encodeURIComponent(newsUrl)}`;
          console.log("Fetching Steam news from:", fullUrl);

          const response = await fetch(fullUrl);
          const proxyData = await response.json();
          const newsData = JSON.parse(proxyData.contents);

          if (
            newsData &&
            newsData.appnews &&
            newsData.appnews.newsitems &&
            newsData.appnews.newsitems.length > 0
          ) {
            const updates = newsData.appnews.newsitems.map((item) => ({
              title: item.title,
              date: new Date(item.date * 1000).toISOString(),
              content: item.contents,
              url: item.url,
              author: item.author || "Steam News",
              eventHeader: item.feedlabel || null,
            }));
            displaySteamUpdates(updates);
            return;
          }

          throw new Error("No news data available from Steam News API");
        } catch (error) {
          console.error("Failed to load Steam news updates:", error);
          showSteamError();
        }
      }

      function displaySteamUpdates(updates) {
        const loadingEl = document.getElementById("updates-loading");
        const listEl = document.getElementById("updates-list");

        loadingEl.style.display = "none";
        listEl.style.display = "block";

        const fallbackImgUrl = "images/Logo.png";
        listEl.innerHTML = updates
          .map((update) => {
            // Try to extract the first image from the content (if any)
            let imgHtml = "";
            const imgMatch = update.content.match(
              /<img[^>]+src=["']([^"']+)["'][^>]*>/i
            );
            if (imgMatch && imgMatch[1]) {
              imgHtml = `<div style="text-align:center;margin-bottom:1em;"><img src="${imgMatch[1]}" alt="Update image" style="max-width:100%;border-radius:8px;box-shadow:0 2px 12px #0003;"></div>`;
            } else {
              imgHtml = `<div style="text-align:center;margin-bottom:1em;opacity:0.7;"><img src="${fallbackImgUrl}" alt="No update image available" style="max-width:120px;border-radius:8px;box-shadow:0 2px 12px #0001;filter: grayscale(0.2);background:#23262e;padding:0.5em;"></div>`;
            }
            // Add event header if present
            let eventHeaderHtml = "";
            if (update.eventHeader) {
              eventHeaderHtml = `<div class="update-event-header" style="font-size:0.98em;font-weight:600;color:#66c0f4;margin-bottom:0.3em;letter-spacing:0.01em;">${escapeHtml(
                update.eventHeader
              )}</div>`;
            }
            return `
          <div class="update-item">
            <div class="update-header">
              ${eventHeaderHtml}<h3 class="update-title">${escapeHtml(
              update.title
            )}</h3>
              <span class="update-date">${formatDate(update.date)}</span>
            </div>
            ${imgHtml}
            <div class="update-content">${formatUpdateContent(
              update.content
            )}</div>
            <div style="margin-top: 0.7em;">
              <a href="${
                update.url
              }" class="steam-link" target="_blank" rel="noopener" style="font-size:0.98em;">
                Read on Steam
              </a>
            </div>
          </div>
        `;
          })
          .join("");

        console.log(`Displayed ${updates.length} Steam news updates`);
      }

      // No longer needed: extractSteamUpdates

      function showSteamError() {
        const loadingEl = document.getElementById("updates-loading");
        const listEl = document.getElementById("updates-list");
        const errorEl = document.getElementById("updates-error");
        const fallbackEl = document.getElementById("updates-fallback");

        loadingEl.style.display = "none";

        // Show clean "no updates available" message instead of error
        listEl.style.display = "block";
        listEl.innerHTML = `
          <div style="text-align: center; padding: 3rem; color: var(--gray-600);">
            <h3 style="margin-bottom: 1rem; color: var(--gray-700);">📡 No Updates Available</h3>
            <p style="margin-bottom: 1.5rem;">We're currently working on connecting to Steam's update feed.</p>
            <p style="font-size: 0.9rem;">Check back soon for the latest development updates!</p>
          </div>
        `;
        console.log("Showing 'no updates available' message");
      }

      function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
      }

      function formatUpdateContent(content) {
        // Convert markdown-style formatting to HTML
        return content
          .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
          .replace(/• /g, "<br>• ")
          .replace(/\n/g, "<br>")
          .trim();
      }

      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }

      // Initialize Steam updates on page load
      document.addEventListener("DOMContentLoaded", function () {
        // Delay loading to prioritize other content
        setTimeout(loadSteamUpdates, 1000);
      });
    </script>
    <script>
    // Login modal logic
    const loginBtn = document.getElementById('login-btn');
    const loginModal = document.getElementById('login-modal');
    const closeLogin = document.getElementById('close-login');
    const loginForm = document.getElementById('login-form');
    const loginMessage = document.getElementById('login-message');
    const passwordToggle = document.getElementById('password-toggle');
    const passwordInput = document.getElementById('password');
    let currentUser = null;
    let passwordVisible = false;

    // Check if user is already logged in
    document.addEventListener('DOMContentLoaded', function() {
      const savedUser = localStorage.getItem('windhelm_user');
      if (savedUser) {
        // User is logged in, redirect to orders page
        window.location.href = 'orders.html';
      }
    });

    passwordToggle.addEventListener('click', function() {
      passwordVisible = !passwordVisible;
      passwordInput.type = passwordVisible ? 'text' : 'password';
      passwordToggle.innerHTML = passwordVisible ?
        `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20C5 20 1 12 1 12C1 12 2.64 8.74 5.64 6.74M9.41 9.41C9.78 9.78 10.18 10.05 10.59 10.23M14.83 14.83C15.55 14.05 16 13.06 16 12C16 9.79 14.21 8 12 8C11.21 8 10.47 8.23 9.82 8.62" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M1 1L23 23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>` :
        `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
        </svg>`;
    });

    loginBtn.addEventListener('click', function() {
      loginModal.style.display = 'flex';
      loginMessage.textContent = '';
      loginForm.reset();
    });
    closeLogin.addEventListener('click', function() {
      loginModal.style.display = 'none';
    });
    window.addEventListener('click', function(e) {
      if (e.target === loginModal) loginModal.style.display = 'none';
    });

    loginForm.addEventListener('submit', async function(e) {
      e.preventDefault();
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;
      const submitBtn = document.getElementById('login-submit-btn');
      loginMessage.textContent = '';

      if (!username || !password) {
        loginMessage.textContent = 'Please fill in all fields.';
        loginMessage.style.color = '#ef4444';
        return;
      }

      submitBtn.disabled = true;
      submitBtn.classList.add('login-loading');
      submitBtn.textContent = 'Signing In...';

      try {
        const res = await fetch('http://localhost:3000/api/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ username, password })
        });
        const data = await res.json();
        if (data.success) {
          currentUser = username;
          localStorage.setItem('windhelm_user', username);
          loginModal.style.display = 'none';
          // Redirect to orders page
          window.location.href = 'orders.html';
        } else {
          loginMessage.textContent = data.message || 'Invalid username or password.';
          loginMessage.style.color = '#ef4444';
        }
      } catch (err) {
        loginMessage.textContent = 'Unable to connect to server. Please try again.';
        loginMessage.style.color = '#ef4444';
      } finally {
        submitBtn.disabled = false;
        submitBtn.classList.remove('login-loading');
        submitBtn.textContent = 'Sign In';
      }
    });
    </script>
  </body>
</html>
